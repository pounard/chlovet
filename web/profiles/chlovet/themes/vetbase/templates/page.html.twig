{% macro content(page, title) %}
  {% if title %}
    <h1>{{ title }}</h1>
  {% endif %}
  <a id="main-content" title="{{ "Main content"|trans }}"></a>
  {% if page.content %}
    {{ page.content }}
  {% endif %}
{% endmacro %}

{% macro banner(banner) %}
  <div id="banner" class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        {{ banner }}
      </div>
    </div>
  </div>
{% endmacro %}

{% import _self as macros %}

{% if page.header %}
  <div id="header" class="container">
    <div class="row">
      <div class="col-md-12">
        {{ page.header }}
      </div>
    </div>
  </div>
{% endif %}

{% if page.banner %}
  {{ macros.banner(page.banner) }}
{% endif %}

{% if menu %}
  {{ menu }}
{% endif %}

<div id="page" class="container">
  <div class="row">
    {% if page.left or menu_siblings %}
      <div id="sidebar" class="col-md-4">
        {% if menu_siblings %}
          {{ menu_siblings }}
        {% endif %}
        {% if page.left %}
          {{ page.left }}
        {% endif %}
      </div>
      <div id="content" class="col-md-8">
        {{ macros.content(page, title) }}
        {% if menu_children %}{{ menu_children }}{% endif %}
      </div>
    {% else %}
      <div id="main" class="col-md-12">
        {{ macros.content(page, title) }}
        {% if menu_children %}{{ menu_children }}{% endif %}
      </div>
    {% endif %}
  </div>
</div>

<div id="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="container-fluid">
          {% for name in ['footer1', 'footer2', 'footer3', 'footer4'] %}
            {# always reserve space even if empty #}
            <div id="{{ name }}" class="col-md-3">
              {% if page[name] %}
                {{ page[name] }}
              {% endif %}
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>
